

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>CityDrain 3 for Module Developers &mdash; DynaMind-ToolBox 0.9.0-dev documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="DynaMind-ToolBox 0.9.0-dev documentation" href="../index.html"/>
        <link rel="up" title="CityDrain3" href="index.html"/>
        <link rel="next" title="Sewer" href="node_sewer.html"/>
        <link rel="prev" title="CityDrain3" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> DynaMind-ToolBox
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction.html#simulations">Simulations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../install_and_compile.html">Install and Run</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install_and_compile.html#windows">Windows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../install_and_compile.html#old-release">Old Release</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../install_and_compile.html#osx">OSX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install_and_compile.html#linux-ubuntu">Linux (Ubuntu)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../quick-intro-gui.html">A Quick Introduction to the DynaMind GUI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../quick-intro-gui.html#the-problem">The Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick-intro-gui.html#building-a-workflow">Building a workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick-intro-gui.html#executing-a-workflow">Executing a Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick-intro-gui.html#solution">Solution</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../DynaMind/index.html">DynaMind</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../DynaMind/module.html">Module Development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind/module.html#module-initialisation">Module Initialisation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind/module.html#parameter-definition">Parameter Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind/module.html#data-stream-definition-using-views-only-recommended-for-advanced-users">Data Stream Definition Using Views (only recommended for advanced users)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind/module.html#data-stream-definition-using-viewcontainer">Data Stream Definition Using ViewContainer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind/module.html#data-manipulation-process-dmp">Data Manipulation Process (DMP)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind/module.html#data-access-using-the-dynamind-gdal-api">Data Access Using the <em>DynaMind GDAL API</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind/module.html#logging">Logging</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind/module.html#error-handling">Error Handling</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind/module.html#advanced-api">Advanced API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind/module.html#linked-data">Linked Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind/module.html#working-with-vectors">Working with Vectors</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../DynaMind/simulations_python.html">Create Simulations in Python</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind/simulations_python.html#initialising-a-new-simulation">Initialising a New Simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind/simulations_python.html#adding-modules">Adding Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind/simulations_python.html#execute-simulation">Execute Simulation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../DynaMind/simulations_python.html#advanced-use-cases">Advanced Use Cases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind/simulations_python.html#access-gdal-database">Access GDAL Database</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../DynaMind/interlinked_datasets.html">Interlinked Database</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind/interlinked_datasets.html#data-model">Data Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind/interlinked_datasets.html#naming-convention">Naming Convention</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../DynaMind/release_notes.html">Release Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind/release_notes.html#release-notes-v0-9">Release Notes v0.9</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind/release_notes.html#model-builder">Model Builder</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind/release_notes.html#release-notes-v0-8">Release Notes v0.8</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind/release_notes.html#core">Core</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind/release_notes.html#id1">Model Builder</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind/release_notes.html#modules">Modules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind/release_notes.html#release-notes-v0-7">Release Notes v0.7</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../DynaMind/index.html#dynamind-python-api">DynaMind Python API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../DynaMind/dynamind_sim_api.html">Sim</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DynaMind/dynamind_sim_api.html#module">Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DynaMind/dynamind_sim_api.html#viewcontainer">ViewContainer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../DynaMind-Gui/index.html">DynaMind GUI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../DynaMind-Gui/gui_modules.html">Working with Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-Gui/gui_modules.html#set-successor-mode">Set Successor Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-Gui/gui_modules.html#export-simulation-database">Export Simulation Database</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../DynaMind-GDALModules/index.html">Standard Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../DynaMind-GDALModules/index.html#data-import-and-export">Data Import and Export</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdalhotstarter.html">Load Simulation Database</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalhotstarter.html#module-name">Module name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalhotstarter.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalhotstarter.html#detailed-description">Detailed Description</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdalimportdata.html">Import GIS Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalimportdata.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalimportdata.html#detailed-description">Detailed Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalimportdata.html#importing-csv">Importing CSV</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalimportdata.html#module-name">Module name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalimportdata.html#sample-code-for-python-simulation">Sample Code for Python Simulation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdalpublishresults.html">Export GIS Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalpublishresults.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalpublishresults.html#module-name">Module Name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalpublishresults.html#detailed-description">Detailed Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalpublishresults.html#sample-code-for-python-simulation">Sample Code for Python Simulation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdallogattributes.html">Log Attributes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdallogattributes.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdallogattributes.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdallogattributes.html#module-name">Module Name</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/dm_exportsimulationdb.html">Export Simulation Database</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dm_exportsimulationdb.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dm_exportsimulationdb.html#module-name">Module Name</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../DynaMind-GDALModules/index.html#linking">Linking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdalspatiallinking.html">Spatial Linking</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalspatiallinking.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalspatiallinking.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalspatiallinking.html#detailed-description">Detailed Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalspatiallinking.html#module-name">Module Name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalspatiallinking.html#sample-code-for-python-simulation">Sample Code for Python Simulation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/nonspatiallinking.html">Link with Identifier</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/nonspatiallinking.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/nonspatiallinking.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/nonspatiallinking.html#module-name">Module Name</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdaljoinnearestneighbour.html">Link Nearest Neighbour</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdaljoinnearestneighbour.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdaljoinnearestneighbour.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdaljoinnearestneighbour.html#module-name">Module Name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdaljoinnearestneighbour.html#sample-code-for-python-simulation">Sample Code for Python Simulation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdalcreateneighbourhoodtable.html">Link Adjacent Faces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalcreateneighbourhoodtable.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalcreateneighbourhoodtable.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalcreateneighbourhoodtable.html#module-name">Module Name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalcreateneighbourhoodtable.html#sample-code-for-python-simulation">Sample Code for Python Simulation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../DynaMind-GDALModules/index.html#data-handling">Data Handling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdalcopyelementtoview.html">Copy Features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalcopyelementtoview.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalcopyelementtoview.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalcopyelementtoview.html#module-name">Module Name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalcopyelementtoview.html#sample-code-for-python-simulation">Sample Code for Python Simulation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdalremovecomponents.html">Remove Component</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalremovecomponents.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalremovecomponents.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalremovecomponents.html#module-name">Module Name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalremovecomponents.html#sample-code-for-python-simulation">Sample Code for Python Simulation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdalattributecalculator.html">Calculate Attributes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalattributecalculator.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalattributecalculator.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalattributecalculator.html#detailed-description">Detailed Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalattributecalculator.html#module-name">Module Name</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdalgeometricattributes.html">Calculate Feature Area</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalgeometricattributes.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalgeometricattributes.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalgeometricattributes.html#module-name">Module Name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalgeometricattributes.html#sample-code-for-python-simulation">Sample Code for Python Simulation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdalcalculatelength.html">Calculate Feature Length</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalcalculatelength.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalcalculatelength.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalcalculatelength.html#module-name">Module Name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalcalculatelength.html#sample-code-for-python-simulation">Sample Code for Python Simulation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/dm_calculatedistance.html">Calculate Distance</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dm_calculatedistance.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dm_calculatedistance.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dm_calculatedistance.html#module-name">Module Name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dm_calculatedistance.html#sample-code-for-python-simulation">Sample Code for Python Simulation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../DynaMind-GDALModules/index.html#geometry-processing">Geometry Processing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdalcalculatecentroids.html">Create Centroids</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalcalculatecentroids.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalcalculatecentroids.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalcalculatecentroids.html#module-name">Module Name</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdalerase.html">Subtract Features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalerase.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalerase.html#module-name">Module Name</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdaloffset.html">Offset Faces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdaloffset.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdaloffset.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdaloffset.html#module-name">Module Name</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../DynaMind-GDALModules/index.html#workflow-control">Workflow Control</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/loopgroup.html">For Loop</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/loopgroup.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/loopgroup.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/loopgroup.html#module-name">Module Name</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../DynaMind-GDALModules/index.html#city-modules">City Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../DynaMind-GDALModules/index.html#urban-form">Urban Form</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdalparceling.html">Parcel Faces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalparceling.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalparceling.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalparceling.html#module-name">Module Name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalparceling.html#detailed-description">Detailed Description</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdalparcelsplit.html">Subdivide Parcels</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalparcelsplit.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalparcelsplit.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalparcelsplit.html#module-name">Module Name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalparcelsplit.html#detailed-description">Detailed Description</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdalcreatebuilding.html">Generate Simple Buildings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalcreatebuilding.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalcreatebuilding.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalcreatebuilding.html#module-name">Module Name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalcreatebuilding.html#detailed-description">Detailed Description</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../DynaMind-GDALModules/index.html#network-generation">Network Generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdalextractnodes.html">Create Start and End Node</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalextractnodes.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalextractnodes.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalextractnodes.html#module-name">Module Name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalextractnodes.html#detail-description">Detail Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalextractnodes.html#sample-code-for-python-simulation">Sample Code for Python Simulation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdalclusternetwork.html">Identify Clusters of Connected Lines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalclusternetwork.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalclusternetwork.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalclusternetwork.html#model-name">Model Name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdalclusternetwork.html#sample-code-for-python-simulation">Sample Code for Python Simulation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/dm_direct_graph.html">Direct Graph</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dm_direct_graph.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dm_direct_graph.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dm_direct_graph.html#module-name">Module Name</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/dm_value_from_raster.html">Value From Raster</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dm_value_from_raster.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dm_value_from_raster.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dm_value_from_raster.html#module-name">Module Name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dm_value_from_raster.html#sample-code-for-python-simulation">Sample Code for Python Simulation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../DynaMind-GDALModules/index.html#network-analysis">Network Analysis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/dm_strahler.html">Strahler Ordering</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dm_strahler.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dm_strahler.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dm_strahler.html#module-name">Module Name</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/segmentation.html">Segmentation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/segmentation.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/segmentation.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/segmentation.html#module-name">Module Name</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/dualmapping.html">Dual Mapping</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dualmapping.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dualmapping.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dualmapping.html#model-name">Model Name</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../DynaMind-GDALModules/index.html#performance-assessment">Performance Assessment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/gdaldmswmm.html">SWMM Integration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdaldmswmm.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/gdaldmswmm.html#module-name">Module Name</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../DynaMind-GDALModules/dm_importswmm.html">Import SWMM File</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dm_importswmm.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dm_importswmm.html#data-stream">Data-stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DynaMind-GDALModules/dm_importswmm.html#module-name">Module Name</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">CityDrain3</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#overview">Overview</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="">CityDrain 3 for Module Developers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#what-is-citydrain">What is CityDrain</a></li>
<li class="toctree-l4"><a class="reference internal" href="#simulation-interface">Simulation Interface</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#nodes">Nodes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="node_sewer.html">Sewer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="node_sewer.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="node_sewer.html#in-and-out">In and Out</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="node_mixer.html">Mixer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="node_mixer.html#parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="node_mixer.html#in-and-out">In and Out</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="node_flowprobe.html">Flow Probe</a><ul>
<li class="toctree-l4"><a class="reference internal" href="node_flowprobe.html#state-variable">State Variable</a></li>
<li class="toctree-l4"><a class="reference internal" href="node_flowprobe.html#in-and-out">In and Out</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#citydrain3-api">CityDrain3 API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="citydrain_api.html">CityDrain3</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../DynaMind-Executable/index.html">DynaMind Commandline</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">DynaMind-ToolBox</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">CityDrain3</a> &raquo;</li>
      
    <li>CityDrain 3 for Module Developers</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/DynaMind-Performance-Assessment/citydrain3.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="citydrain-3-for-module-developers">
<h1>CityDrain 3 for Module Developers<a class="headerlink" href="#citydrain-3-for-module-developers" title="Permalink to this headline">¶</a></h1>
<p>CityDrain3 is used in several modules as backend to conceptually simulate the urban water cycle.
This manual gives a quick overview of how CityDrain can be integrated in a DynaMind module using its Python interface.</p>
<div class="section" id="what-is-citydrain">
<h2>What is CityDrain<a class="headerlink" href="#what-is-citydrain" title="Permalink to this headline">¶</a></h2>
<p>CityDrain is a conceptual model to simulate water and pollution flows. Originally it was developed with
focus and integrated urban water management with particular focus on the environmental impacts
of combined sewer systems. However, in recent years models have been developed to extend its functionality with
the aim to simulate the total urban water cycle.</p>
<p>CityDrain builds on the tradition of hydrological modelling, which allows the complex processes for water quality to
be simulated. Water quality and quality processes are formulated for specific components of the urban water system.
For example, a catchment model simulating the runoff and, built up and wash off processes, a sewer/drain simulating the
kinematic wave of water running through the system as well as decay and built up of pollutions. In CityDrain these process are
described in <em>Nodes</em>.  Several of these nodes can be linked together in form of a directed graph to route water quantity and
quality changes throughout the urban water system.</p>
</div>
<div class="section" id="simulation-interface">
<h2>Simulation Interface<a class="headerlink" href="#simulation-interface" title="Permalink to this headline">¶</a></h2>
<p>This section discusses step by step how to create a CityDrain3 Simulation withe the Python interface.</p>
<p>To create a new CityDrain simulation first import the Python interface <code class="docutils literal"><span class="pre">pycd3</span></code> (see below) and create
a new <code class="docutils literal"><span class="pre">CityDrain3</span></code> simulation. To initialise the Simulation set the start and end date
as well as the used time step in seconds. Further to be able to add nodes to the simulation register a native or python plugin.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># import CityDrain3</span>
<span class="kn">from</span> <span class="nn">pycd3</span> <span class="kn">import</span> <span class="n">CityDrain3</span>

<span class="c"># Init Simulation</span>
<span class="n">cd3</span> <span class="o">=</span> <span class="n">CityDrain3</span><span class="p">(</span><span class="s">&quot;2000-Jan-01 00:00:00&quot;</span><span class="p">,</span>  <span class="s">&quot;2001-Jan-01 00:00:00&quot;</span><span class="p">,</span> <span class="s">&quot;86400&quot;</span><span class="p">)</span>

<span class="c"># Register Modules</span>
<span class="n">cd3</span><span class="o">.</span><span class="n">register_native_plugin</span><span class="p">(</span><span class="s">&quot;plugins/libdance4water-nodes&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>After setting up the simulation nodes can be added to the simulation.
The first parameter is the node name. The second parameter allows to
set parameters of the node. I case of the example we set const_flow to 1.
In the last step to set up the model the nodes can be connected using <cite>add_connection`</cite></p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Add node</span>
<span class="n">const_flow</span> <span class="o">=</span> <span class="n">cd3</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s">&quot;ConstantFlow&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;const_flow&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">})</span>
<span class="n">flow_probe</span> <span class="o">=</span> <span class="n">cd3</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s">&quot;FlowProbe&quot;</span><span class="p">)</span>

<span class="c"># Connect nodes</span>
<span class="n">cd3</span><span class="o">.</span><span class="n">add_connection</span><span class="p">(</span><span class="n">const_flow</span><span class="p">,</span> <span class="s">&quot;out&quot;</span><span class="p">,</span> <span class="n">flow_probe</span><span class="p">,</span> <span class="s">&quot;in&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>To execute the simulation call <code class="docutils literal"><span class="pre">start</span></code> as parameter the start date is required.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Execute Simulation</span>
<span class="n">cd3</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="s">&quot;2000-Jan-01 00:00:00&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Results are either written directly to an output file using the FileOut node or
through accessing the nodes system states. In this example the
FlowProbe stores the volumes on at each time step in the Flow state.
The results can be accessed after the simulation run using the <code class="docutils literal"><span class="pre">get_state_...</span></code> methods.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Execute Simulation</span>
<span class="n">flow_probe</span><span class="o">.</span><span class="n">get_state_value_as_double_vector</span><span class="p">(</span><span class="s">&quot;Flow&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="node_sewer.html" class="btn btn-neutral float-right" title="Sewer" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="CityDrain3" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2015, Christian Urich, Michael Mair.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.9.0-dev',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>